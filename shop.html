<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skope Sana | ShopSana - Best Laptops in Maseno, Kisumu, Kenya</title>
    <meta name="description"
        content="Skope Sana offers the best laptops and accessories in Kenya. Order via WhatsApp (0742380183). HP, Dell, Lenovo laptops at great prices.">
    <meta name="keywords"
        content="laptops Kenya, refurbished laptops, Maseno, Kisumu, HP laptops, Dell, Lenovo, computer accessories, laptop repair Kenya">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://skopedesigns.co.ke/shop.html">
    <meta property="og:title" content="Skope Sana | ShopSana - Best Laptops in Kenya">
    <meta property="og:description"
        content="Quality laptops and accessories in Kenya. Order via WhatsApp (0742380183).">
    <!-- use embedded SVG fallback (guaranteed to exist) -->
    <meta property="og:image" content="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’»</text></svg>">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://skopedesigns.co.ke/shop.html">
    <meta property="twitter:title" content="Skope Sana | ShopSana - Best Laptops in Kenya">
    <meta property="twitter:description"
        content="Quality laptops and accessories in Kenya. Order via WhatsApp (0742380183).">
    <meta property="twitter:image" content="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’»</text></svg>">

    <!-- Favicon -->
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’»</text></svg>">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Manifest for PWA -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#FF7000">

    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "Skope Sana | ShopSana",
      "description": "Quality laptops and accessories in Kenya",
      "url": "https://skopedesigns.co.ke/shop.html",
      "telephone": "+254742380183",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Maseno",
        "addressRegion": "Kisumu",
        "addressCountry": "Kenya"
      },
      "openingHours": "Mo-Su 08:00-20:00",
      "priceRange": "Ksh 17,500 - Ksh 37,000"
    }
    </script>

    <style>
        :root {
            --primary: #FF7000;
            --primary-dark: #E06500;
            --secondary: #00A2FF;
            --dark: #1A1A1A;
            --light: #F8F9FA;
            --gray: #6C757D;
            --success: #28A745;
            --warning: #FFC107;
            --danger: #DC3545;
            --white: #FFFFFF;
            --black: #000000;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            color: var(--dark);
            background-color: var(--light);
            line-height: 1.6;
            position: relative;
            overflow-x: hidden;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        button,
        .btn {
            cursor: pointer;
            border: none;
            background: transparent;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
            width: 100%;
        }

        /* Header */
        header {
            background: var(--white);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
        }

        .header-top {
            background: var(--dark);
            color: var(--white);
            padding: 8px 0;
            font-size: 14px;
        }

        .header-top .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-main {
            padding: 15px 0;
        }

        .header-main .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo-img {
            height: 50px;
        }

        @keyframes logo-bounce {
            0%,
            100% {
                transform: translateY(0);
                will-change: transform;
            }

            50% {
                transform: translateY(-10px);
                will-change: transform;
            }
        }

        .logo-text img {
            height: 34px;
        }

        .nav-menu {
            display: flex;
            list-style: none;
        }

        .nav-item {
            margin: 0 12px;
        }

        .nav-link {
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-link:hover {
            color: var(--primary);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .sell-btn,
        .whatsapp-btn {
            padding: 8px 14px;
            border-radius: 6px;
            color: #fff;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .sell-btn {
            background: var(--secondary);
        }

        .sell-btn:hover {
            background: #0088cc;
        }

        .whatsapp-btn {
            background: var(--success);
        }

        .whatsapp-btn:hover {
            background: #218838;
        }

        .hamburger {
            display: none;
            flex-direction: column;
            gap: 4px;
            width: 30px;
            height: 21px;
            cursor: pointer;
        }

        /* show the three bars inside the hamburger */
        .hamburger span {
            height: 3px;
            background: var(--dark);
            border-radius: 3px;
            display: block;
            width: 100%;
            transition: all 0.3s;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* when we swap img to the fallback logo, apply monochrome style */
        .img-fallback {
            filter: grayscale(100%) contrast(0.9);
            object-fit: contain;
        }

        .exit-btn {
            background: var(--primary);
            color: #fff;
            padding: 6px 10px;
            border-radius: 6px;
            text-decoration: none;
            transition: background 0.3s;
        }

        .exit-btn:hover {
            background: var(--primary-dark);
        }

        /* Hero */
        .hero {
            background: linear-gradient(90deg, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.25)), url('https://images.unsplash.com/photo-1593642632823-8f785ba67e45?ixlib=rb-4.0.3') center/cover no-repeat;
            padding: 100px 0;
            text-align: center;
            color: #fff;
            position: relative;
        }

        .hero-title {
            font-size: 2.8rem;
            font-weight: bold;
            margin-bottom: 16px;
        }

        .hero-subtitle {
            font-size: 1.2rem;
            margin-bottom: 24px;
        }

        .hero-cta {
            background: #ff9900;
            color: #fff;
            padding: 12px 28px;
            border-radius: 30px;
            font-size: 1rem;
            font-weight: bold;
            text-transform: uppercase;
            transition: all 0.3s;
            display: inline-block;
        }

        .hero-cta:hover {
            background: #e68a00;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* Value Propositions */
        .value-props {
            background: var(--white);
            padding: 60px 0;
        }

        .value-props-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .value-item {
            text-align: center;
            padding: 30px 20px;
            border-radius: 10px;
            background: var(--light);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .value-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .value-item i {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .value-item h4 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--dark);
        }

        .value-item p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Special Offers */
        .special-offer {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            color: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .special-offer h3 {
            margin-bottom: 10px;
            font-size: 1.4rem;
        }

        .special-offer .discount-badge {
            background-color: var(--primary-dark);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: bold;
            display: inline-block;
            margin: 5px 0;
        }

        /* Flash sales */
        .flash-sales {
            background: #fdfdfd;
            border: 1px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .flash-sales .sales-title {
            font-size: 1.2rem;
            color: #ff9900;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .flash-sales .sales-timer {
            font-size: 1rem;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sales-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .sales-item {
            border: 1px solid #ddd;
            border-radius: 8px;
            transition: box-shadow 0.3s ease;
        }

        .sales-item:hover {
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .sales-items {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding: 10px 5px;
        }

        .sales-item {
            background: var(--white);
            min-width: 200px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, .08);
            color: var(--dark);
            transition: transform 0.3s;
            position: relative;
        }

        .sales-item:hover {
            transform: translateY(-5px);
        }

        .sales-image {
            height: 120px;
            background: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .sales-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .sales-item:hover .sales-image img {
            transform: scale(1.05);
        }

        .sales-info {
            padding: 10px;
        }

        .sales-product-name {
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .sales-price {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .sales-current {
            font-weight: 700;
            color: var(--primary);
        }

        .sales-original {
            font-size: 0.8rem;
            text-decoration: line-through;
            color: var(--gray);
        }

        /* Sales Counter */
        .sales-counter {
            background: var(--primary);
            color: #fff;
            padding: 20px 0;
            text-align: center;
        }

        .counter-container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 12px;
        }

        .counter-item {
            padding: 10px 18px;
        }

        .counter-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .counter-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Product Filters */
        .product-filters {
            background: var(--white);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .filter-category, .filter-price, .filter-brand {
            margin-bottom: 15px;
        }

        .filter-category h4, .filter-price h4, .filter-brand h4 {
            margin-bottom: 10px;
            color: var(--dark);
            font-size: 1rem;
        }

        .filter-category label, .filter-brand label {
            display: block;
            margin-bottom: 8px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .filter-category input, .filter-brand input {
            margin-right: 8px;
        }

        #price-slider {
            width: 100%;
            margin: 10px 0;
        }

        #price-display {
            text-align: center;
            font-weight: 500;
            color: var(--primary);
        }

        /* Products */
        .products {
            padding: 60px 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2rem;
            font-weight: 700;
            color: var(--dark);
            position: relative;
        }

        .section-title:after {
            content: '';
            display: block;
            width: 60px;
            height: 4px;
            background: var(--primary);
            margin: 10px auto;
            border-radius: 2px;
        }

        .products-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .search-box {
            position: relative;
            width: 320px;
        }

        .search-input {
            width: 100%;
            padding: 12px 18px 12px 44px;
            border: 1px solid #ddd;
            border-radius: 30px;
            outline: none;
            transition: border-color 0.3s;
        }

        .search-input:focus {
            border-color: var(--primary);
        }

        .search-icon {
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        .sort-filter {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sort-select {
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            outline: none;
            transition: border-color 0.3s;
        }

        .sort-select:focus {
            border-color: var(--primary);
        }

        .comparison-tools {
            margin-left: 10px;
        }

        #compare-btn {
            background: var(--secondary);
            color: white;
            padding: 8px 15px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }

        .product-card {
            background: var(--white);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, .04);
            transition: transform .25s;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-6px);
        }

        .product-image {
            height: 200px;
            background: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform .45s;
        }

        .product-card:hover .product-image img {
            transform: scale(1.04);
        }

        /* Stock Status */
        .stock-status {
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
            z-index: 2;
        }

        .in-stock {
            background: rgba(40, 167, 69, 0.9);
            color: white;
        }

        .low-stock {
            background: rgba(255, 193, 7, 0.9);
            color: var(--dark);
        }

        .out-of-stock {
            background: rgba(220, 53, 69, 0.9);
            color: white;
        }

        /* Warranty Info */
        .warranty-info {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 112, 0, 0.9);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
            z-index: 2;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .product-info {
            padding: 18px;
        }

        .product-category {
            font-size: .8rem;
            color: var(--gray);
            margin-bottom: 6px;
        }

        .product-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--dark);
        }

        .product-specs {
            font-size: .9rem;
            color: var(--gray);
            margin-bottom: 12px;
        }

        .product-price {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
        }

        .current-price {
            color: var(--primary);
            font-weight: 700;
            font-size: 1.15rem;
        }

        .original-price {
            text-decoration: line-through;
            color: var(--gray);
            font-size: .95rem;
        }

        .product-rating {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }

        .stars {
            color: #FFC107;
            margin-right: 5px;
        }

        .rating-count {
            font-size: 0.9rem;
            color: var(--gray);
        }

        /* Product Actions */
        .product-actions {
            display: flex;
            justify-content: space-between;
            gap: 8px;
        }

        .preview-btn {
            background: #f8f9fa;
            border-radius: 6px;
            padding: 8px 14px;
            color: var(--dark);
            font-weight: 500;
            transition: all 0.3s;
        }

        .preview-btn:hover {
            background: #e9ecef;
        }

        .order-btn {
            background: var(--success);
            color: #fff;
            border-radius: 6px;
            padding: 8px 14px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .order-btn:hover {
            background: #218838;
        }

        /* New product actions */
        .add-to-cart {
            background: var(--primary);
            color: white;
            border-radius: 6px;
            padding: 8px 14px;
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
            justify-content: center;
        }

        .add-to-wishlist {
            background: #f8f9fa;
            border-radius: 6px;
            padding: 8px;
            width: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .add-to-wishlist.active {
            color: var(--danger);
        }

        /* Specifications Table */
        .specs-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.9rem;
        }

        .specs-table th, .specs-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .specs-table th {
            background: #f8f9fa;
            font-weight: 600;
            width: 40%;
        }

        /* Delivery Calculator */
        .delivery-calculator {
            background: var(--light);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .delivery-calculator h4 {
            margin-bottom: 10px;
        }

        #delivery-location {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 10px;
        }

        #delivery-estimate {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--success);
            font-weight: 500;
        }

        /* Payment Options */
        .payment-options {
            background: var(--light);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .payment-options h4 {
            margin-bottom: 10px;
        }

        .installment-plan {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: white;
            border-radius: 6px;
            border: 1px solid #ddd;
        }

        /* Bulk Order */
        .bulk-order {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 30px;
            border-radius: 8px;
            text-align: center;
            margin: 30px 0;
        }

        .bulk-order h3 {
            margin-bottom: 10px;
            font-size: 1.5rem;
        }

        #bulk-inquiry {
            background: white;
            color: var(--primary);
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 600;
            margin-top: 15px;
            display: inline-block;
        }

        /* Customer Reviews */
        .customer-reviews {
            margin: 40px 0;
        }

        .review {
            background: var(--white);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }

        .reviewer {
            font-weight: 600;
            color: var(--dark);
        }

        .review-rating {
            color: #FFC107;
        }

        .review-date {
            font-size: 0.8rem;
            color: var(--gray);
        }

        /* FAQ Section */
        .faq-section {
            margin: 40px 0;
        }

        .faq-item {
            background: var(--white);
            border-radius: 8px;
            margin-bottom: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .faq-question {
            padding: 15px 20px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--light);
        }

        .faq-answer {
            padding: 15px 20px;
            display: none;
            border-top: 1px solid #eee;
        }

        .faq-item.active .faq-answer {
            display: block;
        }

        /* Testimonial Carousel */
        .testimonial-carousel {
            background: var(--primary);
            color: white;
            padding: 40px 0;
            margin: 40px 0;
        }

        .testimonial {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            padding: 0 20px;
        }

        .testimonial p {
            font-size: 1.2rem;
            font-style: italic;
            margin-bottom: 20px;
        }

        .customer {
            font-weight: 600;
            font-size: 1rem;
        }

        /* Newsletter */
        .newsletter {
            background: var(--light);
            padding: 40px;
            border-radius: 8px;
            text-align: center;
            margin: 40px 0;
        }

        .newsletter h3 {
            margin-bottom: 10px;
        }

        #newsletter-form {
            max-width: 500px;
            margin: 20px auto 0;
            display: flex;
            gap: 10px;
        }

        #newsletter-form input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
        }

        #newsletter-form button {
            background: var(--primary);
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 500;
        }

        /* Recently Viewed */
        .recently-viewed {
            margin: 40px 0;
        }

        /* Live Chat */
        .chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .whatsapp-chat {
            background: var(--success);
            color: white;
            padding: 12px 20px;
            border-radius: 30px;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: #fff;
            padding: 60px 0 24px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 24px;
            margin-bottom: 28px;
        }

        .footer-column h3 {
            margin-bottom: 15px;
            font-size: 1.2rem;
            color: var(--white);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 8px;
        }

        .footer-links a {
            color: #ccc;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        .footer-bottom {
            text-align: center;
            color: #aaa;
            padding-top: 8px;
            border-top: 1px solid rgba(255, 255, 255, .06);
        }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            top: 0;
            right: -320px;
            width: 300px;
            height: 100vh;
            background: #fff;
            padding: 80px 18px;
            transition: right .25s;
            box-shadow: -5px 0 15px rgba(0, 0, 0, .08);
            z-index: 1001;
            overflow-y: auto;
        }

        .mobile-menu.active {
            right: 0;
        }

        #close-menu {
            position: absolute;
            top: 14px;
            right: 18px;
            font-size: 22px;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--dark);
        }

        .mobile-nav {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .mobile-nav-item {
            margin-bottom: 12px;
        }

        .mobile-nav-link {
            display: block;
            padding: 8px 0;
            font-weight: 500;
            transition: color 0.3s;
        }

        .mobile-nav-link:hover {
            color: var(--primary);
        }

        .social-links {
            display: flex;
            gap: 8px;
            margin-top: 20px;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background: var(--gray);
            border-radius: 50%;
            transition: background 0.3s;
        }

        .social-links a:hover {
            background: var(--primary);
        }

        .social-links a i {
            color: #fff;
        }

        /* Section Animations */
        .animate-hidden {
            opacity: 0;
            transform: translate3d(0, 20px, 0);
            will-change: transform, opacity;
            backface-visibility: hidden;
        }

        .animate-visible {
            animation: fade-in-up 420ms cubic-bezier(.2, .8, .2, 1) forwards;
            will-change: transform, opacity;
            backface-visibility: hidden;
        }

        @keyframes fade-in-up {
            from {
                opacity: 0;
                transform: translate3d(0, 20px, 0);
            }

            to {
                opacity: 1;
                transform: translate3d(0, 0, 0);
            }
        }

        /* Promote frequently-transformed cards/images to their own layer for smooth animation */
        .product-card,
        .sales-item,
        .product-image img,
        .logo,
        .logo img {
            will-change: transform;
            backface-visibility: hidden;
            transform: translateZ(0);
        }

        /* Popup Styling */
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            z-index: 1002;
            width: 90%;
            max-width: 400px;
        }

        .popup.active {
            display: block;
        }

        .popup-header {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .popup-close {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .popup-content {
            margin-bottom: 20px;
        }

        .popup-btn {
            background: #28a745;
            color: #fff;
            padding: 10px 20px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: bold;
            display: inline-block;
            transition: background 0.3s;
        }

        .popup-btn:hover {
            background: #218838;
        }

        /* Comparison Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1003;
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 20px;
            width: 90%;
            max-width: 1200px;
            max-height: 80vh;
            overflow-y: auto;
            border-radius: 8px;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
        }

        .comparison-table th, .comparison-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }

        /* Back to top button */
        .back-to-top {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            z-index: 999;
        }

        .back-to-top.active {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background: var(--primary-dark);
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 992px) {
            .nav-menu {
                display: none;
            }

            .hamburger {
                display: flex;
            }

            .search-box {
                width: 100%;
            }

            .sort-filter {
                align-self: flex-end;
            }

            .filters-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2rem;
            }

            .counter-item {
                width: 50%;
                margin-bottom: 15px;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
                grid-auto-flow: row;
            }

            .sales-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .product-actions {
                flex-wrap: wrap;
            }

            #newsletter-form {
                flex-direction: column;
            }
        }

        @media (max-width: 576px) {
            .header-main .container {
                flex-wrap: wrap;
            }

            .logo {
                margin-bottom: 15px;
            }

            .header-actions {
                width: 100%;
                justify-content: space-between;
            }

            .hero {
                padding: 60px 0;
            }

            .hero-title {
                font-size: 1.8rem;
            }

            .counter-item {
                width: 100%;
            }

            .sales-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .sales-timer {
                margin-top: 10px;
            }

            .footer-content {
                grid-template-columns: 1fr;
            }

            .chat-widget {
                bottom: 10px;
                right: 10px;
            }

            .back-to-top {
                bottom: 70px;
                right: 10px;
            }
        }

        /* Accessibility improvements */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus styles for accessibility */
        a:focus, button:focus, input:focus, select:focus {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-top">
            <div class="container">
                <div id="greeting">Good morning!</div>
                <a href="index.html" class="exit-btn">Back to Skope Designs</a>
            </div>
        </div>
        <div class="header-main">
            <div class="container">
                <div class="logo" aria-label="Skope Sana">
                    <img src="logo%20(12).png" alt="Skope Sana Logo" class="logo-img">
                </div>

                <ul class="nav-menu">
                    <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="#products">Laptops</a></li>
                    <li class="nav-item"><a class="nav-link" href="#accessories">Accessories</a></li>
                    <li class="nav-item"><a class="nav-link" href="#marketplace">Marketplace</a></li>
                    <li class="nav-item"><a class="nav-link" href="#services">Services</a></li>
                    <li class="nav-item"><a class="nav-link" href="#blog">Blog</a></li>
                </ul>

                <div class="header-actions">
                    <a class="sell-btn" href="mailto:segepeter71@gmail.com?subject=Seller Application">Sell here</a>
                    <a class="whatsapp-btn" href="https://wa.me/254742380183" target="_blank" rel="noopener noreferrer"><i
                        class="fab fa-whatsapp"></i>Order via WhatsApp</a>
                    <button id="hamburger" class="hamburger" aria-label="Open menu" type="button"><span></span><span></span><span></span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <nav id="mobile-menu" class="mobile-menu" aria-hidden="true">
        <button id="close-menu" aria-label="Close menu" type="button">&times;</button>
        <ul class="mobile-nav">
            <li class="mobile-nav-item"><a class="mobile-nav-link" href="#home">Home</a></li>
            <li class="mobile-nav-item"><a class="mobile-nav-link" href="#products">Laptops</a></li>
            <li class="mobile-nav-item"><a class="mobile-nav-link" href="#accessories">Accessories</a></li>
            <li class="mobile-nav-item"><a class="mobile-nav-link" href="#marketplace">Marketplace</a></li>
            <li class="mobile-nav-item"><a class="mobile-nav-link" href="#services">Services</a></li>
            <li class="mobile-nav-item"><a class="mobile-nav-link" href="#blog">Blog</a></li>
        </ul>
        <div class="social-links">
            <a href="https://www.facebook.com/" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="https://twitter.com/" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            <a href="https://www.instagram.com/" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        </div>
    </nav>

    <!-- Hero -->
    <section id="home" class="hero" role="banner">
        <div class="container">
            <h1 class="hero-title">Top-Quality Laptops and Accessories at Unbeatable Prices</h1>
            <p class="hero-subtitle">Shop the best laptops and accessories in Kenya. Order via WhatsApp and enjoy fast delivery to your doorstep.</p>
            <a class="hero-cta" href="#products">Shop Now</a>
        </div>
    </section>

    <!-- Value Propositions -->
    <section class="value-props">
        <div class="container">
            <div class="value-props-grid">
                <div class="value-item">
                    <i class="fas fa-check-circle"></i>
                    <h4>Genuine Products</h4>
                    <p>100% authentic laptops with original warranties</p>
                </div>
                <div class="value-item">
                    <i class="fas fa-truck"></i>
                    <h4>Free Delivery</h4>
                    <p>Free shipping for orders above Ksh 25,000</p>
                </div>
                <div class="value-item">
                    <i class="fas fa-shield-alt"></i>
                    <h4>6 Months Warranty</h4>
                    <p>Free repair or replacement for manufacturing defects</p>
                </div>
                <div class="value-item">
                    <i class="fas fa-credit-card"></i>
                    <h4>Flexible Payments</h4>
                    <p>Pay in installments with Lipa Na M-Pesa</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Special Offers -->
    <section class="container">
        <div class="special-offer">
            <h3>ðŸ”¥ Special Offers ðŸ”¥</h3>
            <p>Get amazing discounts on our premium laptops!</p>
            <div class="discount-badge">BEST PRICES IN KENYA</div>
            <p>Free delivery for orders above Ksh 25,000! Limited time offer.</p>
        </div>
    </section>

    <!-- Flash Sales -->
    <section class="flash-sales">
        <div class="container">
            <div class="sales-header">
                <div class="sales-title"><i class="fas fa-bolt"></i><span>Flash Sales</span></div>
                <div class="sales-timer"><i class="fas fa-clock"></i> <span id="sales-timer">00:00:00</span></div>
            </div>

            <div class="sales-items" aria-label="Flash sale items">
                <div class="sales-item" onclick="showPopup('HP 830 G5', 'Ksh 25,500')">
                    <div class="sales-image"><img src="https://images.unsplash.com/photo-1593642632823-8f785ba67e45?auto=format&fit=crop&w=500&q=80" alt="HP 830 G5"></div>
                    <div class="sales-info">
                        <div class="sales-product-name">HP 830 G5 i5 8th Gen</div>
                        <div class="sales-price"><span class="sales-current">Ksh 25,500</span><span class="sales-original">Ksh 28,500</span></div>
                    </div>
                </div>
                <div class="sales-item" onclick="showPopup('HP 840 G5', 'Ksh 26,000')">
                    <div class="sales-image"><img
                            src="https://images.unsplash.com/photo-1496181133206-80ce9b88a853?auto=format&fit=crop&w=500&q=80"
                            alt="HP 840 G5"></div>
                    <div class="sales-info">
                        <div class="sales-product-name">HP 840 G5 i5 8th Gen</div>
                        <div class="sales-price"><span class="sales-current">Ksh 26,000</span><span
                            class="sales-original">Ksh 29,000</span></div>
                    </div>
                </div>
                <div class="sales-item" onclick="showPopup('HP 840 G1', 'Ksh 17,500')">
                    <div class="sales-image"><img
                            src="https://images.unsplash.com/photo-1587614382346-4ec70e388b28?auto=format&fit=crop&w=500&q=80"
                            alt="HP 840 G1"></div>
                    <div class="sales-info">
                        <div class="sales-product-name">HP 840 G1 i5 4th Gen</div>
                        <div class="sales-price"><span class="sales-current">Ksh 17,500</span><span
                            class="sales-original">Ksh 20,500</span></div>
                    </div>
                </div>
                <div class="sales-item" onclick="showPopup('Dell 7280', 'Ksh 21,000')">
                    <div class="sales-image"><img
                            src="(Refurbished) DELL LATITUDE 7280 (Core i7 6th GEN_ 8GB_ 256GB SSD_ WEBCAM_ 12_5'' NO TOUCH_ WIN-10 PRO).jpeg"
                            alt="Dell 7280"></div>
                    <div class="sales-info">
                        <div class="sales-product-name">Dell 7280 i7 6th Gen</div>
                        <div class="sales-price"><span class="sales-current">Ksh 21,000</span><span
                            class="sales-original">Ksh 24,000</span></div>
                    </div>
                </div>
                <div class="sales-item" onclick="showPopup('Lenovo T460s', 'Ksh 19,500')">
                    <div class="sales-image"><img
                            src="https://images.unsplash.com/photo-1593642702749-b7d2a804fbcf?auto=format&fit=crop&w=500&q=80"
                            alt="Lenovo T460s"></div>
                    <div class="sales-info">
                        <div class="sales-product-name">Lenovo T460s i5 6th Gen</div>
                        <div class="sales-price"><span class="sales-current">Ksh 19,500</span><span
                            class="sales-original">Ksh 22,500</span></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sales Counter -->
    <section class="sales-counter" aria-hidden="false">
        <div class="container">
            <div class="counter-container">
                <div class="counter-item">
                    <div class="counter-value" id="counter-customers">500+</div>
                    <div class="counter-label">Happy Customers</div>
                </div>
                <div class="counter-item">
                    <div class="counter-value" id="counter-products">50+</div>
                    <div class="counter-label">Products</div>
                </div>
                <div class="counter-item">
                    <div class="counter-value" id="counter-delivery">24/7</div>
                    <div class="counter-label">Fast Delivery</div>
                </div>
                <div class="counter-item">
                    <div class="counter-value" id="counter-support">100%</div>
                    <div class="counter-label">Support</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonial Carousel -->
    <section class="testimonial-carousel">
        <div class="container">
            <div class="testimonial">
                <p>"Best laptop prices in Kenya! Got my HP 840 G5 delivered in 2 days. Highly recommended!"</p>
                <div class="customer">- James from Nairobi</div>
            </div>
        </div>
    </section>

    <!-- Products Section with Filters -->
    <section class="products" id="products">
        <div class="container">
            <h2 class="section-title">Featured Products</h2>

            <!-- Product Filters -->
            <div class="product-filters">
                <div class="filters-grid">
                    <div class="filter-category">
                        <h4>Category</h4>
                        <label><input type="checkbox" value="sealed" checked> Sealed Laptops</label>
                        <label><input type="checkbox" value="refurbished" checked> Refurbished</label>
                        <label><input type="checkbox" value="new" checked> New Arrivals</label>
                    </div>
                    <div class="filter-price">
                        <h4>Price Range</h4>
                        <input type="range" min="15000" max="40000" value="40000" id="price-slider">
                        <div id="price-display">Up to Ksh <span id="max-price">40,000</span></div>
                    </div>
                    <div class="filter-brand">
                        <h4>Brand</h4>
                        <label><input type="checkbox" value="hp" checked> HP</label>
                        <label><input type="checkbox" value="dell" checked> Dell</label>
                        <label><input type="checkbox" value="lenovo" checked> Lenovo</label>
                    </div>
                </div>
            </div>

            <div class="products-header">
                <div class="search-box">
                    <i class="fas fa-search search-icon"></i>
                    <input id="search-input" class="search-input" type="search" placeholder="Search products..." aria-label="Search products">
                </div>

                <div class="sort-filter">
                    <select id="sort-select" class="sort-select" aria-label="Sort products">
                        <option value="default">Sort by</option>
                        <option value="name">Name A-Z</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                        <option value="newest">Newest First</option>
                        <option value="rating">Highest Rated</option>
                    </select>
                    <div class="comparison-tools">
                        <button id="compare-btn"><i class="fas fa-balance-scale"></i> Compare (0)</button>
                    </div>
                </div>
            </div>

            <div id="products-grid" class="products-grid" aria-live="polite">
                <!-- Products will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Recently Viewed -->
    <section class="recently-viewed container">
        <h2 class="section-title">Recently Viewed</h2>
        <div id="recently-viewed-grid" class="products-grid">
            <!-- Will be populated by JavaScript -->
        </div>
    </section>

    <!-- Bulk Order Section -->
    <section class="container">
        <div class="bulk-order">
            <h3>Business/Bulk Orders?</h3>
            <p>Contact us for special pricing on orders of 5+ units</p>
            <button id="bulk-inquiry">Request Quote</button>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section container">
        <h2 class="section-title">Frequently Asked Questions</h2>
        <div class="faq-item">
            <div class="faq-question">Do you offer delivery outside Kisumu? <i class="fas fa-chevron-down"></i></div>
            <div class="faq-answer">Yes, we deliver nationwide via courier services. Delivery costs vary by location.</div>
        </div>
        <div class="faq-item">
            <div class="faq-question">What is your return policy? <i class="fas fa-chevron-down"></i></div>
            <div class="faq-answer">We offer a 7-day return policy for manufacturing defects. Contact us within 7 days of delivery.</div>
        </div>
        <div class="faq-item">
            <div class="faq-question">Do you offer installment payments? <i class="fas fa-chevron-down"></i></div>
            <div class="faq-answer">Yes, we offer Lipa Na M-Pesa installment plans. Contact us for details.</div>
        </div>
        <div class="faq-item">
            <div class="faq-question">How long is the warranty? <i class="fas fa-chevron-down"></i></div>
            <div class="faq-answer">All laptops come with a 6-month warranty covering manufacturing defects.</div>
        </div>
    </section>

    <!-- Customer Reviews -->
    <section class="customer-reviews container">
        <h2 class="section-title">Customer Reviews</h2>
        <div class="review">
            <div class="review-header">
                <div class="reviewer">John M.</div>
                <div class="review-rating">â˜…â˜…â˜…â˜…â˜…</div>
                <div class="review-date">2 weeks ago</div>
            </div>
            <p>"Great laptop, fast delivery. The HP 840 G5 works perfectly for my business. Highly recommend!"</p>
        </div>
        <div class="review">
            <div class="review-header">
                <div class="reviewer">Sarah K.</div>
                <div class="review-rating">â˜…â˜…â˜…â˜…â˜…</div>
                <div class="review-date">1 month ago</div>
            </div>
            <p>"Best prices I found online. The laptop arrived well-packaged and in perfect condition. Will buy again!"</p>
        </div>
        <div class="review">
            <div class="review-header">
                <div class="reviewer">David W.</div>
                <div class="review-rating">â˜…â˜…â˜…â˜…â˜†</div>
                <div class="review-date">3 weeks ago</div>
            </div>
            <p>"Good service, but delivery took 4 days instead of 2. Laptop quality is excellent though."</p>
        </div>
    </section>

    <!-- Newsletter -->
    <section class="newsletter container">
        <h3>Stay Updated</h3>
        <p>Get notified about new arrivals and special offers</p>
        <form id="newsletter-form">
            <input type="email" placeholder="Your email address" required>
            <button type="submit">Subscribe</button>
        </form>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Skope Sana</h3>
                    <p>Your trusted partner for quality laptops and accessories in Kenya. We offer the best prices and reliable service.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://twitter.com/" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.instagram.com/" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#products">Laptops</a></li>
                        <li><a href="#accessories">Accessories</a></li>
                        <li><a href="#marketplace">Marketplace</a></li>
                        <li><a href="#services">Services</a></li>
                        <li><a href="#blog">Blog</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact Info</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-phone"></i> <a href="tel:+254742380183">+254 742 380 183</a></li>
                        <li><i class="fas fa-envelope"></i> <a href="mailto:segepeter71@gmail.com">segepeter71@gmail.com</a></li>
                        <li><i class="fas fa-map-marker-alt"></i> Maseno, Kisumu, Kenya</li>
                        <li><i class="fab fa-whatsapp"></i> <a href="https://wa.me/254742380183" target="_blank" rel="noopener">WhatsApp</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Business Hours</h3>
                    <ul class="footer-links">
                        <li>Monday - Friday: 8:00 AM - 8:00 PM</li>
                        <li>Saturday: 9:00 AM - 6:00 PM</li>
                        <li>Sunday: 10:00 AM - 4:00 PM</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 Skope Sana | ShopSana. All rights reserved. | Designed by Sege Peter</p>
            </div>
        </div>
    </footer>

    <!-- Live Chat Widget -->
    <div class="chat-widget">
        <a href="https://wa.me/254742380183" class="whatsapp-chat" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-whatsapp"></i> Chat Now
        </a>
    </div>

    <!-- Back to top button -->
    <div class="back-to-top" id="back-to-top" aria-label="Back to top">
        <i class="fas fa-chevron-up"></i>
    </div>

    <!-- Comparison Modal -->
    <div id="comparison-modal" class="modal">
        <div class="modal-content">
            <h2>Product Comparison</h2>
            <div id="comparison-content">
                <p>Select 2-3 products to compare</p>
            </div>
            <button onclick="closeComparison()" style="margin-top: 20px; padding: 10px 20px; background: var(--primary); color: white; border: none; border-radius: 6px;">Close</button>
        </div>
    </div>

    <!-- Popup -->
    <div id="popup" class="popup">
        <button class="popup-close" onclick="closePopup()" aria-label="Close">&times;</button>
        <div class="popup-header" id="popup-product"></div>
        <div class="popup-content">Price: <span id="popup-price"></span></div>
        <a id="popup-link" class="popup-btn" target="_blank" rel="noopener noreferrer">Order on WhatsApp</a>
    </div>

    <!-- Consolidated scripts -->
    <script>
        // Product Data
        const products = [
            {
                id: 1,
                name: "HP 830 G5 i5 8th Gen",
                category: "laptop",
                brand: "hp",
                price: 25500,
                originalPrice: 28500,
                rating: 4.5,
                date: "2023-06-15",
                specs: "8GB RAM â€¢ 256GB SSD â€¢ 14\" Display",
                image: "https://images.unsplash.com/photo-1593642632823-8f785ba67e45?auto=format&fit=crop&w=500&q=80",
                stock: "in-stock",
                sealed: true,
                warranty: "6 Months",
                fullSpecs: {
                    processor: "Intel Core i5 8th Generation",
                    ram: "8GB DDR4",
                    storage: "256GB SSD",
                    display: "14\" FHD (1920x1080)",
                    battery: "Up to 8 hours",
                    weight: "1.5 kg"
                }
            },
            {
                id: 2,
                name: "HP 840 G5 i5 8th Gen",
                category: "laptop",
                brand: "hp",
                price: 26000,
                originalPrice: 29000,
                rating: 4.7,
                date: "2023-07-02",
                specs: "8GB RAM â€¢ 256GB SSD â€¢ 14\" Display",
                image: "https://images.unsplash.com/photo-1496181133206-80ce9b88a853?auto=format&fit=crop&w=500&q=80",
                stock: "in-stock",
                sealed: true,
                warranty: "6 Months",
                fullSpecs: {
                    processor: "Intel Core i5 8th Generation",
                    ram: "8GB DDR4",
                    storage: "256GB SSD",
                    display: "14\" FHD (1920x1080)",
                    battery: "Up to 9 hours",
                    weight: "1.6 kg"
                }
            },
            {
                id: 3,
                name: "HP 840 G1 i5 4th Gen",
                category: "laptop",
                brand: "hp",
                price: 17500,
                originalPrice: 20500,
                rating: 4.2,
                date: "2023-06-28",
                specs: "8GB RAM â€¢ 500GB HDD â€¢ 14\" Display",
                image: "https://images.unsplash.com/photo-1587614382346-4ec70e388b28?auto=format&fit=crop&w=500&q=80",
                stock: "low-stock",
                sealed: false,
                warranty: "3 Months",
                fullSpecs: {
                    processor: "Intel Core i5 4th Generation",
                    ram: "8GB DDR3",
                    storage: "500GB HDD",
                    display: "14\" HD (1366x768)",
                    battery: "Up to 6 hours",
                    weight: "2.0 kg"
                }
            },
            {
                id: 4,
                name: "Dell 7280 i7 6th Gen",
                category: "laptop",
                brand: "dell",
                price: 21000,
                originalPrice: 24000,
                rating: 4.8,
                date: "2023-07-10",
                specs: "8GB RAM â€¢ 256GB SSD â€¢ 12.5\" Display",
                image: "(Refurbished) DELL LATITUDE 7280 (Core i7 6th GEN_ 8GB_ 256GB SSD_ WEBCAM_ 12_5'' NO TOUCH_ WIN-10 PRO).jpeg",
                stock: "in-stock",
                sealed: true,
                warranty: "6 Months",
                fullSpecs: {
                    processor: "Intel Core i7 6th Generation",
                    ram: "8GB DDR4",
                    storage: "256GB SSD",
                    display: "12.5\" FHD (1920x1080)",
                    battery: "Up to 10 hours",
                    weight: "1.2 kg"
                }
            },
            {
                id: 5,
                name: "Lenovo T460s i5 6th Gen",
                category: "laptop",
                brand: "lenovo",
                price: 19500,
                originalPrice: 22500,
                rating: 4.3,
                date: "2023-07-05",
                specs: "8GB RAM â€¢ 256GB SSD â€¢ 14\" Display",
                image: "https://images.unsplash.com/photo-1593642702749-b7d2a804fbcf?auto=format&fit=crop&w=500&q=80",
                stock: "out-of-stock",
                sealed: false,
                warranty: "3 Months",
                fullSpecs: {
                    processor: "Intel Core i5 6th Generation",
                    ram: "8GB DDR4",
                    storage: "256GB SSD",
                    display: "14\" FHD (1920x1080)",
                    battery: "Up to 7 hours",
                    weight: "1.4 kg"
                }
            },
            {
                id: 6,
                name: "HP 840G6 i5 8TH GEN 8/256GB",
                category: "laptop",
                brand: "hp",
                price: 26000,
                rating: 4.5,
                date: "2023-10-01",
                specs: "8GB RAM â€¢ 256GB SSD â€¢ 14\"",
                image: "HP 840G6 i5.png",
                stock: "in-stock",
                sealed: true,
                warranty: "6 Months",
                fullSpecs: {
                    processor: "Intel Core i5 8th Generation",
                    ram: "8GB DDR4",
                    storage: "256GB SSD",
                    display: "14\" FHD (1920x1080)",
                    battery: "Up to 8 hours",
                    weight: "1.5 kg"
                }
            },
            {
                id: 7,
                name: "HP 840G5 i7 8TH GEN 8/256GB",
                category: "laptop",
                brand: "hp",
                price: 30999,
                rating: 4.6,
                date: "2023-10-01",
                specs: "8GB RAM â€¢ 256GB SSD â€¢ 14\"",
                image: "hp 840 g5.png",
                stock: "in-stock",
                sealed: true,
                warranty: "6 Months",
                fullSpecs: {
                    processor: "Intel Core i7 8th Generation",
                    ram: "8GB DDR4",
                    storage: "256GB SSD",
                    display: "14\" FHD (1920x1080)",
                    battery: "Up to 9 hours",
                    weight: "1.6 kg"
                }
            }
        ];

        // State Management
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
        let recentlyViewed = JSON.parse(localStorage.getItem('recentlyViewed')) || [];
        let comparisonItems = JSON.parse(localStorage.getItem('comparisonItems')) || [];

        // Initialize on DOM Load
        document.addEventListener('DOMContentLoaded', function() {
            updateGreeting();
            setupMobileMenu();
            setupSalesTimer();
            setupImageFallbacks();
            setupSearchAndSort();
            setupBackToTop();
            animateCounters();
            setupProductPreview();
            renderProducts();
            setupFilters();
            setupFAQ();
            setupNewsletter();
            setupBulkInquiry();
            setupComparison();
            renderRecentlyViewed();
            setupDeliveryCalculator();
            
            // Initialize cart and wishlist counts
            updateCartCount();
            updateWishlistCount();
            updateComparisonCount();
        });

        // Update greeting in East Africa Time
        function updateGreeting() {
            try {
                const timeZone = 'Africa/Nairobi';
                const now = new Date();

                const hourStr = new Intl.DateTimeFormat('en-GB', { timeZone, hour: '2-digit', hour12: false }).format(now);
                const hour = parseInt(hourStr, 10);

                const options = { timeZone, weekday: 'long', hour: 'numeric', minute: '2-digit', hour12: true };
                const dayTime = now.toLocaleString('en-GB', options);

                let greet = 'Hello';
                if (hour >= 5 && hour < 12) greet = 'Good morning';
                else if (hour >= 12 && hour < 17) greet = 'Good afternoon';
                else if (hour >= 17 && hour < 21) greet = 'Good evening';
                else greet = 'Good night';

                const greetingEl = document.getElementById('greeting');
                if (greetingEl) greetingEl.textContent = `${greet}! ${dayTime} EAT`;
            } catch (e) {
                const greetingEl = document.getElementById('greeting');
                if (greetingEl) greetingEl.textContent = 'Welcome!';
            }
        }
        setInterval(updateGreeting, 60 * 1000);

        // Mobile menu toggle
        (function setupMobileMenu() {
            const hamburger = document.getElementById('hamburger');
            const mobileMenu = document.getElementById('mobile-menu');
            const closeBtn = document.getElementById('close-menu');
            if (!hamburger || !mobileMenu) return;

            function openMenu() {
                mobileMenu.classList.add('active');
                hamburger.classList.add('active');
                mobileMenu.setAttribute('aria-hidden', 'false');
                document.body.style.overflow = 'hidden';
                closeBtn && closeBtn.focus();
            }
            function closeMenu() {
                mobileMenu.classList.remove('active');
                hamburger.classList.remove('active');
                mobileMenu.setAttribute('aria-hidden', 'true');
                document.body.style.overflow = '';
                hamburger.focus();
            }

            hamburger.addEventListener('click', openMenu);
            if (closeBtn) closeBtn.addEventListener('click', closeMenu);

            document.addEventListener('click', (e) => {
                if (!mobileMenu.classList.contains('active')) return;
                const target = e.target;
                if (!mobileMenu.contains(target) && !hamburger.contains(target)) closeMenu();
            });

            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && mobileMenu.classList.contains('active')) closeMenu();
            });
        })();

        // Smooth scroll for internal links
        document.querySelectorAll('a[href^="#"]').forEach(a => {
            a.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (href && href.startsWith('#') && href.length > 1) {
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        // Close mobile menu if open
                        const mobileMenu = document.getElementById('mobile-menu');
                        const hamburger = document.getElementById('hamburger');
                        if (mobileMenu && mobileMenu.classList.contains('active')) {
                            mobileMenu.classList.remove('active');
                            hamburger.classList.remove('active');
                            mobileMenu.setAttribute('aria-hidden', 'true');
                            document.body.style.overflow = '';
                        }
                        
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                }
            });
        });

        // Animate sections when they come into view
        const io = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.remove('animate-hidden');
                    entry.target.classList.add('animate-visible');
                    io.unobserve(entry.target);
                }
            });
        }, { threshold: 0.12 });
        
        document.querySelectorAll('section').forEach(s => {
            s.classList.add('animate-hidden');
            io.observe(s);
        });

        // Flash Sales Popup
        function showPopup(product, price) {
            const popup = document.getElementById('popup');
            if (popup) {
                document.getElementById('popup-product').textContent = product;
                document.getElementById('popup-price').textContent = price;
                document.getElementById('popup-link').href = `https://wa.me/254742380183?text=I%20want%20to%20order%20${encodeURIComponent(product)}`;
                popup.classList.add('active');
            }
        }
        
        function closePopup() {
            const popup = document.getElementById('popup');
            if (popup) popup.classList.remove('active');
        }
        
        window.showPopup = showPopup;
        window.closePopup = closePopup;

        // Safe sales timer update
        (function setupSalesTimer() {
            const timerElement = document.getElementById('sales-timer');
            if (!timerElement) return;
            const TEN_DAYS_MS = 10 * 24 * 60 * 60 * 1000;
            const cycleStart = new Date('2025-01-01T00:00:00').getTime();
            function updateTimer() {
                const now = Date.now();
                const elapsed = (now - cycleStart) % TEN_DAYS_MS;
                const remaining = TEN_DAYS_MS - elapsed;
                const days = Math.floor(remaining / (1000 * 60 * 60 * 24));
                const hours = Math.floor((remaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((remaining % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((remaining % (1000 * 60)) / 1000);
                timerElement.textContent =
                    `${days.toString().padStart(2,'0')}:${hours.toString().padStart(2,'0')}:` +
                    `${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
            }
            updateTimer();
            setInterval(updateTimer, 1000);
        })();

        // Image fallback
        (function setupImageFallbacks() {
            const fallback = 'data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’»</text></svg>';
            document.querySelectorAll('img').forEach(img => {
                const raw = img.getAttribute('src');
                if (raw && !raw.startsWith('data:')) {
                    if (/[ \(\)]/.test(raw)) {
                        const safe = raw.replace(/ /g, '%20').replace(/\(/g, '%28').replace(/\)/g, '%29');
                        img.setAttribute('src', safe);
                        try { img.src = safe; } catch (e) { /* ignore */ }
                    }
                }
                img.addEventListener('error', function () {
                    if (this.dataset.fallbackApplied) return;
                    this.dataset.fallbackApplied = '1';
                    if (this.hasAttribute('srcset')) this.removeAttribute('srcset');
                    this.classList.add('img-fallback');
                    this.src = fallback;
                    this.alt = this.alt || 'Skope Sana logo';
                });
                if (!img.getAttribute('src')) {
                    img.dispatchEvent(new Event('error'));
                }
            });
        })();

        // Render Products
        function renderProducts(filteredProducts = products) {
            const grid = document.getElementById('products-grid');
            if (!grid) return;

            grid.innerHTML = filteredProducts.map(product => `
                <article class="product-card" data-id="${product.id}" data-category="laptop" data-price="${product.price}" data-rating="${product.rating}" data-date="${product.date}" data-name="${product.name}">
                    <div class="stock-status ${product.stock}">
                        <i class="fas ${product.stock === 'in-stock' ? 'fa-check-circle' : product.stock === 'low-stock' ? 'fa-exclamation-triangle' : 'fa-times-circle'}"></i>
                        ${product.stock === 'in-stock' ? 'In Stock' : product.stock === 'low-stock' ? 'Only 2 left' : 'Out of Stock'}
                    </div>
                    <div class="warranty-info">
                        <i class="fas fa-shield-alt"></i>
                        ${product.warranty}
                    </div>
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}" class="lazy-load">
                    </div>
                    <div class="product-info">
                        <div class="product-category">Laptop â€¢ ${product.sealed ? 'Sealed' : 'Refurbished'}</div>
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-specs">${product.specs}</div>
                        <div class="product-price">
                            <span class="current-price">Ksh ${product.price.toLocaleString()}</span>
                            ${product.originalPrice ? `<span class="original-price">Ksh ${product.originalPrice.toLocaleString()}</span>` : ''}
                        </div>
                        <div class="product-rating">
                            <div class="stars">${'<i class="fas fa-star"></i>'.repeat(Math.floor(product.rating))}${product.rating % 1 ? '<i class="fas fa-star-half-alt"></i>' : ''}${'<i class="far fa-star"></i>'.repeat(5 - Math.ceil(product.rating))}</div>
                            <span class="rating-count">(${Math.floor(Math.random() * 50) + 10})</span>
                        </div>
                        
                        <!-- Specifications Table -->
                        <table class="specs-table" style="display: none;">
                            ${Object.entries(product.fullSpecs).map(([key, value]) => `
                                <tr><th>${key.charAt(0).toUpperCase() + key.slice(1)}</th><td>${value}</td></tr>
                            `).join('')}
                        </table>
                        
                        <!-- Delivery Calculator (initially hidden) -->
                        <div class="delivery-calculator" style="display: none; margin: 15px 0;">
                            <h4>Estimate Delivery</h4>
                            <select class="delivery-location">
                                <option value="nairobi">Nairobi</option>
                                <option value="kisumu">Kisumu</option>
                                <option value="mombasa">Mombasa</option>
                            </select>
                            <div class="delivery-estimate">
                                <i class="fas fa-shipping-fast"></i>
                                <span>Delivery: 2-3 days â€¢ Ksh ${['nairobi', 'kisumu'].includes('kisumu') ? '0' : '500'}</span>
                            </div>
                        </div>
                        
                        <!-- Payment Options -->
                        <div class="payment-options" style="margin: 15px 0;">
                            <div class="installment-plan">
                                <i class="fas fa-credit-card"></i>
                                <span>Pay in 3 installments with Lipa Na M-Pesa</span>
                            </div>
                        </div>
                        
                        <div class="product-actions">
                            <button type="button" class="preview-btn" onclick="showProductDetails(${product.id})">Preview</button>
                            <button class="add-to-cart" onclick="addToCart(${product.id})">
                                <i class="fas fa-shopping-cart"></i> Add to Cart
                            </button>
                            <button class="add-to-wishlist ${wishlist.includes(product.id) ? 'active' : ''}" onclick="toggleWishlist(${product.id})">
                                <i class="${wishlist.includes(product.id) ? 'fas' : 'far'} fa-heart"></i>
                            </button>
                        </div>
                        
                        <!-- Comparison checkbox -->
                        <div style="margin-top: 10px;">
                            <label>
                                <input type="checkbox" class="compare-checkbox" data-id="${product.id}" ${comparisonItems.includes(product.id) ? 'checked' : ''}>
                                Add to comparison
                            </label>
                        </div>
                    </div>
                </article>
            `).join('');

            // Attach event listeners to compare checkboxes
            document.querySelectorAll('.compare-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const productId = parseInt(this.dataset.id);
                    toggleComparison(productId);
                });
            });
        }

        // Setup Filters
        function setupFilters() {
            const priceSlider = document.getElementById('price-slider');
            const maxPriceDisplay = document.getElementById('max-price');
            const categoryCheckboxes = document.querySelectorAll('.filter-category input');
            const brandCheckboxes = document.querySelectorAll('.filter-brand input');

            if (priceSlider) {
                priceSlider.addEventListener('input', function() {
                    const price = parseInt(this.value);
                    maxPriceDisplay.textContent = price.toLocaleString();
                    filterProducts();
                });
            }

            categoryCheckboxes.forEach(cb => cb.addEventListener('change', filterProducts));
            brandCheckboxes.forEach(cb => cb.addEventListener('change', filterProducts));
        }

        // Filter Products
        function filterProducts() {
            const maxPrice = parseInt(document.getElementById('price-slider').value);
            const selectedCategories = Array.from(document.querySelectorAll('.filter-category input:checked')).map(cb => cb.value);
            const selectedBrands = Array.from(document.querySelectorAll('.filter-brand input:checked')).map(cb => cb.value);

            const filtered = products.filter(product => {
                // Price filter
                if (product.price > maxPrice) return false;

                // Category filter
                if (selectedCategories.length > 0) {
                    const categoryMatch = selectedCategories.some(cat => {
                        if (cat === 'sealed') return product.sealed;
                        if (cat === 'refurbished') return !product.sealed;
                        if (cat === 'new') return new Date(product.date) > new Date('2023-09-01');
                        return true;
                    });
                    if (!categoryMatch) return false;
                }

                // Brand filter
                if (selectedBrands.length > 0 && !selectedBrands.includes(product.brand)) {
                    return false;
                }

                return true;
            });

            renderProducts(filtered);
        }

        // Setup Search & Sort
        (function setupSearchAndSort() {
            const grid = document.getElementById('products-grid');
            const input = document.getElementById('search-input');
            const select = document.getElementById('sort-select');
            if (!grid) return;

            function filterProducts(query) {
                query = (query || '').trim().toLowerCase();
                Array.from(grid.children).forEach(card => {
                    if (!card.classList || !card.classList.contains('product-card')) {
                        card.style.display = '';
                        return;
                    }
                    const name = (card.dataset.name || '').toLowerCase();
                    const specs = (card.querySelector('.product-specs') || { textContent: '' }).textContent.toLowerCase();
                    const match = !query || name.includes(query) || specs.includes(query);
                    card.style.display = match ? '' : 'none';
                });
            }

            function sortProducts(mode) {
                const items = Array.from(grid.querySelectorAll('.product-card'));
                const compareFns = {
                    'name': (a, b) => (a.dataset.name || '').localeCompare(b.dataset.name || ''),
                    'price-low': (a, b) => (parseInt(a.dataset.price || '0') - parseInt(b.dataset.price || '0')),
                    'price-high': (a, b) => (parseInt(b.dataset.price || '0') - parseInt(a.dataset.price || '0')),
                    'newest': (a, b) => (new Date(b.dataset.date || 0) - new Date(a.dataset.date || 0)),
                    'rating': (a, b) => (parseFloat(b.dataset.rating || '0') - parseFloat(a.dataset.rating || '0')),
                    'default': () => 0
                };
                const cmp = compareFns[mode] || compareFns['default'];
                items.sort(cmp);
                items.forEach(i => grid.appendChild(i));
            }

            input && input.addEventListener('input', (e) => {
                filterProducts(e.target.value);
            });
            select && select.addEventListener('change', (e) => {
                sortProducts(e.target.value);
            });
        })();

        // Back to top button
        (function setupBackToTop() {
            const backToTop = document.getElementById('back-to-top');
            if (!backToTop) return;

            function toggleBackToTop() {
                if (window.pageYOffset > 300) {
                    backToTop.classList.add('active');
                } else {
                    backToTop.classList.remove('active');
                }
            }

            window.addEventListener('scroll', toggleBackToTop);
            
            backToTop.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            toggleBackToTop();
        })();

        // Animate counter values
        (function animateCounters() {
            const counters = document.querySelectorAll('.counter-value');
            if (!counters.length) return;

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const counter = entry.target;
                        const target = parseInt(counter.textContent);
                        const duration = 2000;
                        const step = target / (duration / 16);
                        let current = 0;
                        
                        const timer = setInterval(() => {
                            current += step;
                            if (current >= target) {
                                counter.textContent = target + (counter.id === 'counter-customers' ? '+' : '');
                                clearInterval(timer);
                            } else {
                                counter.textContent = Math.floor(current);
                            }
                        }, 16);
                        
                        observer.unobserve(counter);
                    }
                });
            }, { threshold: 0.5 });

            counters.forEach(counter => observer.observe(counter));
        })();

        // Product preview functionality
        function setupProductPreview() {
            // This is handled by the showProductDetails function
        }

        function showProductDetails(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            // Show details in popup
            const popup = document.getElementById('popup');
            if (popup) {
                document.getElementById('popup-product').textContent = product.name;
                document.getElementById('popup-price').textContent = `Ksh ${product.price.toLocaleString()}`;
                document.getElementById('popup-link').href = `https://wa.me/254742380183?text=I%20want%20to%20order%20${encodeURIComponent(product.name)}`;
                
                // Add specifications to popup content
                const popupContent = document.querySelector('.popup-content');
                popupContent.innerHTML = `
                    <p>Price: <strong>Ksh ${product.price.toLocaleString()}</strong></p>
                    <p>${product.specs}</p>
                    <div style="margin-top: 15px;">
                        <strong>Specifications:</strong>
                        <ul style="margin-top: 10px;">
                            ${Object.entries(product.fullSpecs).map(([key, value]) => `
                                <li><strong>${key.charAt(0).toUpperCase() + key.slice(1)}:</strong> ${value}</li>
                            `).join('')}
                        </ul>
                    </div>
                `;
                
                popup.classList.add('active');
            }

            // Add to recently viewed
            addToRecentlyViewed(productId);
        }

        // Shopping Cart Functions
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            if (product.stock === 'out-of-stock') {
                alert('This product is out of stock');
                return;
            }

            cart.push({
                id: product.id,
                name: product.name,
                price: product.price,
                quantity: 1
            });

            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            
            // Show notification
            showNotification(`Added ${product.name} to cart!`);
        }

        function updateCartCount() {
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            // You can display this count in the header if you add a cart icon
        }

        // Wishlist Functions
        function toggleWishlist(productId) {
            const index = wishlist.indexOf(productId);
            if (index === -1) {
                wishlist.push(productId);
                showNotification('Added to wishlist!');
            } else {
                wishlist.splice(index, 1);
                showNotification('Removed from wishlist');
            }
            
            localStorage.setItem('wishlist', JSON.stringify(wishlist));
            updateWishlistCount();
            renderProducts(); // Re-render to update heart icons
        }

        function updateWishlistCount() {
            // Update wishlist count display if you add a wishlist icon
        }

        // Comparison Functions
        function setupComparison() {
            const compareBtn = document.getElementById('compare-btn');
            if (compareBtn) {
                compareBtn.addEventListener('click', showComparison);
            }
        }

        function toggleComparison(productId) {
            const index = comparisonItems.indexOf(productId);
            if (index === -1) {
                if (comparisonItems.length >= 3) {
                    alert('You can compare up to 3 products at a time');
                    document.querySelector(`.compare-checkbox[data-id="${productId}"]`).checked = false;
                    return;
                }
                comparisonItems.push(productId);
            } else {
                comparisonItems.splice(index, 1);
            }
            
            localStorage.setItem('comparisonItems', JSON.stringify(comparisonItems));
            updateComparisonCount();
        }

        function updateComparisonCount() {
            const compareBtn = document.getElementById('compare-btn');
            if (compareBtn) {
                compareBtn.innerHTML = `<i class="fas fa-balance-scale"></i> Compare (${comparisonItems.length})`;
            }
        }

        function showComparison() {
            if (comparisonItems.length === 0) {
                alert('Please select products to compare');
                return;
            }

            const modal = document.getElementById('comparison-modal');
            const content = document.getElementById('comparison-content');
            
            if (!modal || !content) return;

            const productsToCompare = products.filter(p => comparisonItems.includes(p.id));
            
            let html = '<table class="comparison-table"><tr><th>Feature</th>';
            productsToCompare.forEach(product => {
                html += `<th>${product.name}</th>`;
            });
            html += '</tr>';

            // Add specifications
            const specs = ['price', 'processor', 'ram', 'storage', 'display', 'battery', 'weight'];
            specs.forEach(spec => {
                html += `<tr><td>${spec.charAt(0).toUpperCase() + spec.slice(1)}</td>`;
                productsToCompare.forEach(product => {
                    let value = '';
                    if (spec === 'price') {
                        value = `Ksh ${product.price.toLocaleString()}`;
                    } else {
                        value = product.fullSpecs[spec] || 'N/A';
                    }
                    html += `<td>${value}</td>`;
                });
                html += '</tr>';
            });

            html += '</table>';
            content.innerHTML = html;
            modal.style.display = 'block';
        }

        function closeComparison() {
            const modal = document.getElementById('comparison-modal');
            if (modal) modal.style.display = 'none';
        }

        // Recently Viewed
        function addToRecentlyViewed(productId) {
            const index = recentlyViewed.indexOf(productId);
            if (index !== -1) {
                recentlyViewed.splice(index, 1);
            }
            recentlyViewed.unshift(productId);
            recentlyViewed = recentlyViewed.slice(0, 4); // Keep only 4 items
            localStorage.setItem('recentlyViewed', JSON.stringify(recentlyViewed));
            renderRecentlyViewed();
        }

        function renderRecentlyViewed() {
            const grid = document.getElementById('recently-viewed-grid');
            if (!grid || recentlyViewed.length === 0) return;

            const recentlyViewedProducts = products.filter(p => recentlyViewed.includes(p.id));
            grid.innerHTML = recentlyViewedProducts.map(product => `
                <div class="product-card">
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-price">
                            <span class="current-price">Ksh ${product.price.toLocaleString()}</span>
                        </div>
                        <button class="order-btn" onclick="showProductDetails(${product.id})">
                            <i class="fab fa-whatsapp"></i> View Details
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // FAQ Section
        function setupFAQ() {
            document.querySelectorAll('.faq-question').forEach(question => {
                question.addEventListener('click', function() {
                    const item = this.parentElement;
                    item.classList.toggle('active');
                    
                    // Rotate arrow
                    const icon = this.querySelector('i');
                    if (icon) {
                        icon.style.transform = item.classList.contains('active') ? 'rotate(180deg)' : 'rotate(0deg)';
                    }
                });
            });
        }

        // Newsletter
        function setupNewsletter() {
            const form = document.getElementById('newsletter-form');
            if (form) {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const email = this.querySelector('input[type="email"]').value;
                    
                    // In a real application, you would send this to your server
                    showNotification('Thank you for subscribing!');
                    this.reset();
                });
            }
        }

        // Bulk Inquiry
        function setupBulkInquiry() {
            const btn = document.getElementById('bulk-inquiry');
            if (btn) {
                btn.addEventListener('click', function() {
                    window.location.href = 'https://wa.me/254742380183?text=I%20am%20interested%20in%20bulk%20purchase%20of%20laptops%20for%20my%20business.';
                });
            }
        }

        // Delivery Calculator
        function setupDeliveryCalculator() {
            // This would typically be implemented with an API
            // For now, we'll just show static estimates
        }

        // Notification System
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--success);
                color: white;
                padding: 15px 20px;
                border-radius: 6px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                z-index: 10000;
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Add CSS for notifications
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Add loading state to buttons
        document.querySelectorAll('a.order-btn, a.hero-cta').forEach(btn => {
            btn.addEventListener('click', function(e) {
                if (this.href && this.href.startsWith('https://wa.me')) {
                    const originalText = this.innerHTML;
                    this.innerHTML = '<span class="loading"></span> Loading...';
                    
                    setTimeout(() => {
                        this.innerHTML = originalText;
                    }, 3000);
                }
            });
        });

        // Service Worker Registration for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js').catch(error => {
                    console.log('Service Worker registration failed:', error);
                });
            });
        }

        // Add to Home Screen Prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Show install button (you can add this to your UI)
            setTimeout(() => {
                if (deferredPrompt) {
                    const installBtn = document.createElement('button');
                    installBtn.textContent = 'Install App';
                    installBtn.style.cssText = `
                        position: fixed;
                        bottom: 120px;
                        right: 20px;
                        background: var(--primary);
                        color: white;
                        padding: 10px 15px;
                        border-radius: 6px;
                        border: none;
                        cursor: pointer;
                        z-index: 1000;
                        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                    `;
                    installBtn.addEventListener('click', () => {
                        deferredPrompt.prompt();
                        deferredPrompt.userChoice.then(() => {
                            deferredPrompt = null;
                            installBtn.remove();
                        });
                    });
                    document.body.appendChild(installBtn);
                }
            }, 5000);
        });

        // Lazy Loading Images
        const imageObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    const src = img.getAttribute('data-src');
                    if (src) {
                        img.src = src;
                        img.removeAttribute('data-src');
                    }
                    imageObserver.unobserve(img);
                }
            });
        });

        document.querySelectorAll('img.lazy-load').forEach(img => {
            imageObserver.observe(img);
        });
    </script>
</body>
</html>
